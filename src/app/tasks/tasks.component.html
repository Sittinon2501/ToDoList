<div class="container my-5">
  <h1 class="text-center">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô To-Do List</h1>
  <h2 class="text-center">‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏á‡∏≤‡∏ô Tasks To-Do List</h2>
  
  <div class="row">
    <div class="col-4">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥</h5>
          <form [formGroup]="tasksForm" (ngSubmit)="addNewTask()">
            <div class="form-group">
              <label for="taskName">‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥</label>
              <input type="text" class="form-control" id="taskName" formControlName="taskName" />
            </div>
            <div class="form-group">
              <label for="taskDescription">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label>
              <textarea class="form-control" id="taskDescription" formControlName="taskDescription" rows="3"></textarea>
            </div>
            <div class="form-group">
              <label for="taskDueDate">‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£</label>
              <input type="date" class="form-control" id="taskDueDate" formControlName="taskDueDate" />
            </div>
            <div class="form-group">
              <label for="taskPriority">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</label>
              <select class="form-control" id="taskPriority" formControlName="taskPriority">
                <option value="1">üî¥ ‡∏™‡∏π‡∏á</option>
                <option value="2">üü° ‡∏Å‡∏•‡∏≤‡∏á</option>
                <option value="3">üü¢ ‡∏ï‡πà‡∏≥</option>
              </select>
            </div>
            <button type="submit" class="btn btn-primary mt-2">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô</button>
          </form>
        </div>
      </div>
    </div>
    
    <div class="col-8">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Tasks</h5>

          <div class="row">
            <!-- High Priority Tasks -->
            <div class="col-4">
              <div class="card border-danger border-2">
                <div class="card-body">
                  <h6 class="card-title">üî¥ ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏π‡∏á</h6>
                  <div cdkDropList id="highList" 
                       [cdkDropListConnectedTo]="['mediumList', 'lowList']" 
                       [cdkDropListData]="tasks_high" 
                       (cdkDropListDropped)="drop($event, 'high')"
                       class="task-list">
                    <div *ngFor="let task of tasks_high" cdkDrag class="task-item p-3 mb-2 border rounded">
                      <strong class="text-danger">{{ task.DueDate | date }}</strong><br />
                      {{ task.Title }}<br />
                      {{ task.Description }}<br />
                      <span class="badge" [ngClass]="{'bg-success': task.Status === 'done', 'bg-warning': task.Status === 'in_progress', 'bg-secondary': task.Status === 'pending'}">
                        {{ task.Status }}
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Medium Priority Tasks -->
            <div class="col-4">
              <div class="card border-warning border-2">
                <div class="card-body">
                  <h6 class="card-title">üü° ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏•‡∏≤‡∏á</h6>
                  <div cdkDropList id="mediumList" 
                       [cdkDropListConnectedTo]="['highList', 'lowList']" 
                       [cdkDropListData]="tasks_medium" 
                       (cdkDropListDropped)="drop($event, 'medium')"
                       class="task-list">
                    <div *ngFor="let task of tasks_medium" cdkDrag class="task-item p-3 mb-2 border rounded">
                      <strong class="text-warning">{{ task.DueDate | date }}</strong><br />
                      {{ task.Title }}<br />
                      {{ task.Description }}<br />
                      <span class="badge" [ngClass]="{'bg-success': task.Status === 'done', 'bg-warning': task.Status === 'in_progress', 'bg-secondary': task.Status === 'pending'}">
                        {{ task.Status }}
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Low Priority Tasks -->
            <div class="col-4">
              <div class="card border-success border-2">
                <div class="card-body">
                  <h6 class="card-title">üü¢ ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ï‡πà‡∏≥</h6>
                  <div cdkDropList id="lowList" 
                       [cdkDropListConnectedTo]="['highList', 'mediumList']" 
                       [cdkDropListData]="tasks_low" 
                       (cdkDropListDropped)="drop($event, 'low')"
                       class="task-list">
                    <div *ngFor="let task of tasks_low" cdkDrag class="task-item p-3 mb-2 border rounded">
                      <strong class="text-success">{{ task.DueDate | date }}</strong><br />
                      {{ task.Title }}<br />
                      {{ task.Description }}<br />
                      <span class="badge" [ngClass]="{'bg-success': task.Status === 'done', 'bg-warning': task.Status === 'in_progress', 'bg-secondary': task.Status === 'pending'}">
                        {{ task.Status }}
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>
